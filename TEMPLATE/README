==================================================================
!       Install Petsc
==================================================================
Intall or have somebody else install Petsc for you

1) Have look at
http://www.mcs.anl.gov/petsc/download/index.html

2) Then do
wget http://ftp.mcs.anl.gov/pub/petsc/release-snapshots/petsc-3.7.2.tar.gz
gunzip and untar the file

3) Export the environment variables
cd petsc-3.7.2
export PETSC_DIR=$PWD
export PETSC_ARCH=linux-gnu-c

4) Go to petsc-3.7.2 and configure Petsc
./configure --configModules=PETSc.Configure --optionsModule=PETSc.compilerOptions --download-f-blaslapack=1 --with-shared-libraries=1 --download-hypre=1 --download-mumps=1 --download-spooles=1 --download-scalapack=1 --download-metis=1 --download-parmetis=1 --download-blacs=1 --with-debugging=0 --with-x=0

5) make all

6) make test

7) Done


==================================================================
!       Make SFEMaNS
==================================================================
1) Define the environement variable SFEMaNS_DIR in your ~/.bashrc file
Example: edit ~/.bashrc and add one line 
export SFEMaNS_DIR= the_path_to_SFEMaNS

2) Create you own application (Not in SFEMaNS) 
	mkdir MY_APPLICATION
	cd MY_APPLICATION

3) Create an application from the template
	cp $SFEMaNS_DIR/TEMPLATE/* .

4) Create your own make.in
	mv make.inc_template make.inc

5) Edit make.inc to correct the path to Petsc, FFTW 

If you want to use Arpack, you need to uncomment the following line in main.F90
line 6
    USE arpack_mhd
lines 79 to 98
    CALL solver_arpack_mhd(comm_one_d, .FALSE. ,H_mesh,phi_mesh,&
          m_max_c,inputs%dt,list_mode,mu_H_field,interface_H_mu, &
          inputs%mu_phi, interface_H_phi)

6) Create your own my_make
	mv my_make_template  my_make

7) Create your makefile
	./my_make

8) Create the excecutable
	make a.exe -j 10

9) Done	

Remark: a second main.F90 (see main.F90_updated_output) 
is made available to the user. It is a modified version
of the template main.F90 that write some output (energy,
anemometer, etc.) in specific file. Comments are available
in the Fortran file (see lines 200 till 232).


==================================================================
!       Check installation
==================================================================

1) Create the executable a.exe as described above

2) Then type the command
   	cp $SFEMaNS_DIR/TEMPLATE/debug_SFEMaNS_template .

3) Run the shell debug_SFEMaNS_template (it checks the installation of the code over more than 30 tests)
       ./debug_SFEMaNS_test

4) If all the test are "OK", SFEMaNS is correctly installed.
